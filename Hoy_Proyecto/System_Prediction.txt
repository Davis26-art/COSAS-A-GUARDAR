para este proyecto; que tablas especificamente podria manejar y que datos contendrian cada tabla: Proyecto 3: Sistema de Predicci√≥n de Plagas Basado
en IA
1. Informaci√≥n General del Proyecto
‚Ä¢ Nombre del Proyecto: Sistema de Predicci√≥n de Plagas Basado en IA.
‚Ä¢ Cliente: AgroPredictive Ltda.
‚Ä¢ Responsable del Proyecto: Unidad de An√°lisis de Datos.
‚Ä¢ Fecha de Solicitud:
‚Ä¢ Fecha de Entrega Esperada:
‚Ä¢ Resumen del Proyecto: Implementar un modelo predictivo que identifique
probabilidades de infestaci√≥n de plagas en cultivos.
2. Alcance del Proyecto
‚Ä¢ Objetivo: Prevenir infestaciones mediante predicciones basadas en an√°lisis
hist√≥ricos y condiciones actuales.
‚Ä¢ Componentes Principales: Modelos de IA, dashboard de visualizaci√≥n, alertas
predictivas.
‚Ä¢ Restricciones: Datos limitados a cultivos de ma√≠z y arroz.
‚Ä¢ Dependencias: Acceso a datos hist√≥ricos proporcionados por el cliente.
3. Requerimientos Funcionales
‚Ä¢ RF01: Recolecci√≥n y an√°lisis de datos hist√≥ricos y actuales.
o Entradas: Bases de datos hist√≥ricas, sensores actuales.
o Procesamiento: Modelado predictivo con machine learning.
o Salidas: Predicciones y alertas.
o Criterios de Aceptaci√≥n: Precisi√≥n del modelo > 85%.
‚Ä¢ RF02: Generaci√≥n de recomendaciones para prevenir plagas basadas en las
predicciones.
4. Requerimientos No Funcionales
‚Ä¢ RNF01: Uso eficiente de recursos en servidores locales.
‚Ä¢ RNF02: Escalabilidad para incluir m√°s cultivos en el futuro.
5. Roles y Perfiles de Usuario
‚Ä¢ Perfil 1: Cient√≠fico de Datos - Administra modelos y analiza resultados.

‚Ä¢ Perfil 2: Agricultor - Recibe y act√∫a sobre alertas.
6. Proceso de Aseguramiento de Calidad
‚Ä¢ Planes de Prueba: Validaci√≥n del modelo con datos reales y simulaciones.
‚Ä¢ Herramientas: TensorFlow, Tableau.
7. Entregables
‚Ä¢ Informe del modelo predictivo.
‚Ä¢ Sistema operativo con interfaz de usuario.
8. Restricciones T√©cnicas
‚Ä¢ Plataforma Objetivo: Servidores locales y web.
‚Ä¢ Lenguajes de Programaci√≥n: Python.
‚Ä¢ Bases de Datos: MongoDB.
9. Plan de Trabajo y Cronograma
‚Ä¢ Fase 1: An√°lisis de datos hist√≥ricos -
‚Ä¢ Fase 2: Desarrollo del modelo IA -
‚Ä¢ Fase 3: Pruebas y ajuste -
10. Validaci√≥n y Aprobaciones
Firma del cliente: ___________________________




Para este **Proyecto 3: Sistema de Predicci√≥n de Plagas Basado en IA**, se pueden manejar varias tablas o colecciones (si se usa **MongoDB**, como se indica en las restricciones t√©cnicas) que representen distintos aspectos del sistema. A continuaci√≥n, te detallo qu√© tablas/colecciones ser√≠an necesarias, qu√© datos contendr√≠a cada una y su prop√≥sito:

---

## üß© **1. Cultivos**

* **Prop√≥sito:** Registrar informaci√≥n sobre los campos de cultivo monitoreados.
* **Campos sugeridos:**

  * `id_cultivo` (ID √∫nico)
  * `tipo_cultivo` (Ej.: ma√≠z, arroz)
  * `ubicaci√≥n` (coordenadas GPS o regi√≥n)
  * `tama√±o_ha` (hect√°reas)
  * `fecha_siembra`
  * `estado_actual` (en crecimiento, cosechado, etc.)

---

## üåø **2. Plagas**

* **Prop√≥sito:** Almacenar informaci√≥n sobre las plagas que se desean predecir.
* **Campos sugeridos:**

  * `id_plaga`
  * `nombre_com√∫n`
  * `nombre_cient√≠fico`
  * `cultivos_afectados`
  * `√©poca_aparici√≥n` (meses o estaciones)
  * `niveles_criticidad` (leve, moderada, severa)

---

## üìä **3. Datos Hist√≥ricos de Cultivos**

* **Prop√≥sito:** Contener registros hist√≥ricos utilizados para el entrenamiento del modelo.
* **Campos sugeridos:**

  * `id_registro`
  * `id_cultivo`
  * `fecha`
  * `condiciones_clim√°ticas`: {

    * `temperatura`
    * `humedad`
    * `precipitaciones`
    * `viento`
      }
  * `presencia_plaga` (booleano o ID de plaga)
  * `nivel_afectaci√≥n` (escala 1-5)

---

## üì° **4. Datos en Tiempo Real (Sensores)**

* **Prop√≥sito:** Registrar lecturas de sensores conectados al cultivo en tiempo real.
* **Campos sugeridos:**

  * `id_sensor`
  * `id_cultivo`
  * `timestamp`
  * `temperatura`
  * `humedad`
  * `luminosidad`
  * `tipo_sensor` (si hay varios tipos)

---

## üß† **5. Predicciones**

* **Prop√≥sito:** Registrar las predicciones generadas por el modelo de IA.
* **Campos sugeridos:**

  * `id_prediccion`
  * `id_cultivo`
  * `fecha_prediccion`
  * `probabilidad_plaga` (porcentaje)
  * `tipo_plaga_predicha`
  * `nivel_confianza` (ej. 87%)
  * `recomendaci√≥n_generada`

---

## üîî **6. Alertas**

* **Prop√≥sito:** Informar al agricultor sobre riesgos detectados.
* **Campos sugeridos:**

  * `id_alerta`
  * `id_cultivo`
  * `fecha_alerta`
  * `tipo_plaga`
  * `nivel_riesgo` (bajo, medio, alto)
  * `mensaje_alerta`
  * `estado` (nueva, atendida, ignorada)

---

## üìã **7. Recomendaciones**

* **Prop√≥sito:** Sugerencias autom√°ticas o generadas por el sistema basadas en las predicciones.
* **Campos sugeridos:**

  * `id_recomendacion`
  * `id_prediccion`
  * `mensaje`
  * `acciones_sugeridas` (por ejemplo: aplicar pesticida X, reforzar monitoreo)
  * `prioridad`

---

## üë§ **8. Usuarios**

* **Prop√≥sito:** Gestionar accesos y roles (cient√≠fico de datos, agricultor).
* **Campos sugeridos:**

  * `id_usuario`
  * `nombre`
  * `correo`
  * `rol` (agricultor, cient√≠fico de datos)
  * `zona_asignada`
  * `√∫ltimo_acceso`

---

## üß™ **9. Validaciones del Modelo**

* **Prop√≥sito:** Evaluaciones de desempe√±o del modelo de IA.
* **Campos sugeridos:**

  * `id_validacion`
  * `fecha`
  * `m√©trica_precision`
  * `m√©trica_recall`
  * `m√©trica_f1_score`
  * `comentarios`
  * `versi√≥n_modelo`

---

## Opcional: üóÇ **10. Logs del Sistema**

* **Prop√≥sito:** Registro de eventos del sistema para auditor√≠a y debugging.
* **Campos sugeridos:**

  * `id_log`
  * `timestamp`
  * `evento`
  * `usuario_afectado`
  * `detalle`

---

## üí° Notas adicionales:

* En MongoDB estas tablas ser√≠an **colecciones**, y puedes aprovechar la flexibilidad de los documentos JSON para anidar objetos complejos como condiciones clim√°ticas o sensores.
* Puedes establecer relaciones por ID entre colecciones (aunque MongoDB no es relacional, puedes mantener la integridad a nivel de aplicaci√≥n).

---

¬øTe gustar√≠a que te ayude a dise√±ar los esquemas en MongoDB o convertirlos a SQL relacional tambi√©n?


esto es lo minimo requerido para que cumpla con su funcionamineto y con los requerimientos del proyecto?


Perfecto. Como usar√°s **PostgreSQL**, te armar√© un listado claro y organizado de las tablas necesarias con sus campos (columnas) y descripciones, para que puedas **copiar y pegar directamente en Excel** como una especie de cat√°logo o diccionario de datos.

---

## üìã Formato para Excel

Cada tabla tendr√° esta estructura:

* **Nombre de la Tabla**
* **Nombre del Campo**
* **Tipo de Dato**
* **Descripci√≥n**

---

A continuaci√≥n, te presento todas las **tablas m√≠nimas necesarias** para el funcionamiento del sistema, como lo solicitaste:

---

### üü© Tabla: `cultivos`

| Nombre del Campo | Tipo de Dato | Descripci√≥n                                          |
| ---------------- | ------------ | ---------------------------------------------------- |
| id_cultivo       | SERIAL (PK)  | ID √∫nico del cultivo                                 |
| tipo_cultivo     | VARCHAR(50)  | Tipo de cultivo (ma√≠z, arroz)                        |
| ubicacion        | TEXT         | Ubicaci√≥n o coordenadas GPS                          |
| tama√±o_ha        | NUMERIC(6,2) | Tama√±o del cultivo en hect√°reas                      |
| fecha_siembra    | DATE         | Fecha de siembra del cultivo                         |
| estado_actual    | VARCHAR(50)  | Estado del cultivo (en crecimiento, cosechado, etc.) |

---

### üü© Tabla: `plagas`

| Nombre del Campo   | Tipo de Dato | Descripci√≥n                             |
| ------------------ | ------------ | --------------------------------------- |
| id_plaga           | SERIAL (PK)  | ID √∫nico de la plaga                    |
| nombre_comun       | VARCHAR(100) | Nombre com√∫n de la plaga                |
| nombre_cientifico  | VARCHAR(150) | Nombre cient√≠fico de la plaga           |
| cultivos_afectados | TEXT         | Lista o texto de cultivos afectados     |
| epoca_aparicion    | VARCHAR(100) | Meses o estaciones comunes de aparici√≥n |
| niveles_criticidad | VARCHAR(50)  | Leve, moderada, severa                  |

---

### üü© Tabla: `datos_historicos`

| Nombre del Campo | Tipo de Dato | Descripci√≥n                     |
| ---------------- | ------------ | ------------------------------- |
| id_registro      | SERIAL (PK)  | ID √∫nico del registro           |
| id_cultivo       | INTEGER (FK) | Cultivo relacionado             |
| fecha            | DATE         | Fecha del registro              |
| temperatura      | NUMERIC(5,2) | Temperatura en ¬∞C               |
| humedad          | NUMERIC(5,2) | Humedad relativa %              |
| precipitaciones  | NUMERIC(5,2) | Lluvia en mm                    |
| viento           | NUMERIC(5,2) | Velocidad del viento en km/h    |
| presencia_plaga  | BOOLEAN      | Si hubo o no presencia de plaga |
| id_plaga         | INTEGER (FK) | Plaga identificada (si aplica)  |
| nivel_afectacion | INTEGER      | Escala de 1 a 5 de da√±o         |

---

### üü© Tabla: `sensores`

| Nombre del Campo | Tipo de Dato | Descripci√≥n                       |
| ---------------- | ------------ | --------------------------------- |
| id_sensor        | SERIAL (PK)  | ID √∫nico del sensor               |
| id_cultivo       | INTEGER (FK) | Cultivo al que est√° asociado      |
| tipo_sensor      | VARCHAR(50)  | Tipo (temperatura, humedad, etc.) |

---

### üü© Tabla: `lecturas_sensores`

| Nombre del Campo | Tipo de Dato | Descripci√≥n                 |
| ---------------- | ------------ | --------------------------- |
| id_lectura       | SERIAL (PK)  | ID √∫nico de lectura         |
| id_sensor        | INTEGER (FK) | Sensor relacionado          |
| timestamp        | TIMESTAMP    | Fecha y hora de la lectura  |
| valor            | NUMERIC(8,2) | Valor captado por el sensor |

---

### üü© Tabla: `predicciones`

| Nombre del Campo   | Tipo de Dato | Descripci√≥n                |
| ------------------ | ------------ | -------------------------- |
| id_prediccion      | SERIAL (PK)  | ID de la predicci√≥n        |
| id_cultivo         | INTEGER (FK) | Cultivo relacionado        |
| fecha_prediccion   | DATE         | Fecha de la predicci√≥n     |
| id_plaga_predicha  | INTEGER (FK) | Plaga predicha             |
| probabilidad_plaga | NUMERIC(5,2) | Porcentaje de probabilidad |
| nivel_confianza    | NUMERIC(5,2) | Confianza del modelo (%)   |
| recomendacion      | TEXT         | Recomendaci√≥n generada     |

---

### üü© Tabla: `alertas`

| Nombre del Campo | Tipo de Dato | Descripci√≥n                |
| ---------------- | ------------ | -------------------------- |
| id_alerta        | SERIAL (PK)  | ID de la alerta            |
| id_cultivo       | INTEGER (FK) | Cultivo afectado           |
| fecha_alerta     | DATE         | Fecha de la alerta         |
| id_plaga         | INTEGER (FK) | Plaga que gener√≥ la alerta |
| nivel_riesgo     | VARCHAR(20)  | Bajo, medio, alto          |
| mensaje_alerta   | TEXT         | Texto informativo          |
| estado           | VARCHAR(20)  | Nueva, atendida, ignorada  |

---

### üü© Tabla: `recomendaciones`

| Nombre del Campo   | Tipo de Dato | Descripci√≥n            |
| ------------------ | ------------ | ---------------------- |
| id_recomendacion   | SERIAL (PK)  | ID de recomendaci√≥n    |
| id_prediccion      | INTEGER (FK) | Predicci√≥n relacionada |
| mensaje            | TEXT         | Recomendaci√≥n concreta |
| acciones_sugeridas | TEXT         | Medidas sugeridas      |
| prioridad          | VARCHAR(20)  | Alta, media, baja      |

---

### üü© Tabla: `usuarios`

| Nombre del Campo | Tipo de Dato | Descripci√≥n                       |
| ---------------- | ------------ | --------------------------------- |
| id_usuario       | SERIAL (PK)  | ID del usuario                    |
| nombre           | VARCHAR(100) | Nombre completo                   |
| correo           | VARCHAR(150) | Email de contacto                 |
| rol              | VARCHAR(50)  | agricultor o cient√≠fico de datos  |
| zona_asignada    | VARCHAR(100) | Regi√≥n o campo asignado           |
| ultimo_acceso    | TIMESTAMP    | √öltima vez que ingres√≥ al sistema |

---

### üü© Tabla: `validaciones_modelo`

| Nombre del Campo | Tipo de Dato | Descripci√≥n                 |
| ---------------- | ------------ | --------------------------- |
| id_validacion    | SERIAL (PK)  | ID de la validaci√≥n         |
| fecha            | DATE         | Fecha de la validaci√≥n      |
| precision        | NUMERIC(5,2) | Precisi√≥n del modelo        |
| recall           | NUMERIC(5,2) | Recall del modelo           |
| f1_score         | NUMERIC(5,2) | F1 Score                    |
| version_modelo   | VARCHAR(20)  | Versi√≥n del modelo evaluado |
| comentarios      | TEXT         | Observaciones de la prueba  |

---

## üì§ ¬øC√≥mo pegar esto en Excel f√°cilmente?

1. **Abre Excel.**
2. **Copia** el contenido de cada tabla desde aqu√≠.
3. **Pega directamente** en una hoja de Excel. Las celdas se separar√°n autom√°ticamente por columnas si copias bien desde la tabla.

Si lo deseas, tambi√©n puedo prepararte un **archivo Excel real (.xlsx)** con todas estas tablas ya organizadas en pesta√±as o en una sola hoja. ¬øQuieres que lo genere?


para cdaa una de estas crea 3 registros de ejemplo 


Perfecto. A continuaci√≥n te presento **3 registros de ejemplo por cada una de las tablas** del sistema en formato tabular, listos para copiar y pegar en Excel junto con los nombres de campo. Esto te servir√° para poblar datos ficticios iniciales en tus pruebas del sistema.

---

### üü© Tabla: `cultivos`

| id_cultivo | tipo_cultivo | ubicacion           | tama√±o_ha | fecha_siembra | estado_actual  |
| ---------- | ------------ | ------------------- | --------- | ------------- | -------------- |
| 1          | ma√≠z         | Vereda El Camp√≠n    | 5.0       | 2025-07-15    | en crecimiento |
| 2          | arroz        | Zona Norte - Lote A | 3.5       | 2025-08-01    | en crecimiento |
| 3          | ma√≠z         | Finca Los Pinos     | 4.2       | 2025-06-20    | cosechado      |

---

### üü© Tabla: `plagas`

| id_plaga | nombre_comun      | nombre_cientifico       | cultivos_afectados | epoca_aparicion  | niveles_criticidad |
| -------- | ----------------- | ----------------------- | ------------------ | ---------------- | ------------------ |
| 1        | Gusano cogollero  | *Spodoptera frugiperda* | ma√≠z               | julio-septiembre | moderada           |
| 2        | Chinche del arroz | *Oebalus insularis*     | arroz              | agosto-noviembre | severa             |
| 3        | Pulg√≥n del ma√≠z   | *Rhopalosiphum maidis*  | ma√≠z               | todo el a√±o      | leve               |

---

### üü© Tabla: `datos_historicos`

| id_registro | id_cultivo | fecha      | temperatura | humedad | precipitaciones | viento | presencia_plaga | id_plaga | nivel_afectacion |
| ----------- | ---------- | ---------- | ----------- | ------- | --------------- | ------ | --------------- | -------- | ---------------- |
| 1           | 1          | 2024-07-20 | 28.5        | 75.0    | 12.0            | 10.0   | TRUE            | 1        | 3                |
| 2           | 2          | 2024-08-10 | 30.1        | 85.2    | 20.0            | 5.2    | FALSE           | NULL     | 0                |
| 3           | 3          | 2024-09-01 | 27.8        | 78.5    | 5.0             | 12.0   | TRUE            | 3        | 2                |

---

### üü© Tabla: `sensores`

| id_sensor | id_cultivo | tipo_sensor |
| --------- | ---------- | ----------- |
| 1         | 1          | temperatura |
| 2         | 1          | humedad     |
| 3         | 2          | humedad     |

---

### üü© Tabla: `lecturas_sensores`

| id_lectura | id_sensor | timestamp           | valor |
| ---------- | --------- | ------------------- | ----- |
| 1          | 1         | 2025-10-20 08:00:00 | 29.6  |
| 2          | 2         | 2025-10-20 08:00:00 | 70.2  |
| 3          | 3         | 2025-10-20 08:15:00 | 80.5  |

---

### üü© Tabla: `predicciones`

| id_prediccion | id_cultivo | fecha_prediccion | id_plaga_predicha | probabilidad_plaga | nivel_confianza | recomendacion                                |
| ------------- | ---------- | ---------------- | ----------------- | ------------------ | --------------- | -------------------------------------------- |
| 1             | 1          | 2025-10-20       | 1                 | 76.5               | 88.0            | Aplicar monitoreo semanal con trampas.       |
| 2             | 2          | 2025-10-20       | 2                 | 64.3               | 85.5            | Verificar presencia de chinches al amanecer. |
| 3             | 1          | 2025-10-21       | 3                 | 52.1               | 90.0            | Vigilar hojas por pulgones en fase temprana. |

---

### üü© Tabla: `alertas`

| id_alerta | id_cultivo | fecha_alerta | id_plaga | nivel_riesgo | mensaje_alerta                         | estado   |
| --------- | ---------- | ------------ | -------- | ------------ | -------------------------------------- | -------- |
| 1         | 1          | 2025-10-20   | 1        | alto         | Alta probabilidad de gusano cogollero  | nueva    |
| 2         | 2          | 2025-10-20   | 2        | medio        | Posible aparici√≥n de chinche del arroz | nueva    |
| 3         | 1          | 2025-10-21   | 3        | bajo         | Riesgo leve de pulg√≥n del ma√≠z         | atendida |

---

### üü© Tabla: `recomendaciones`

| id_recomendacion | id_prediccion | mensaje                                   | acciones_sugeridas                              | prioridad |
| ---------------- | ------------- | ----------------------------------------- | ----------------------------------------------- | --------- |
| 1                | 1             | Detectada posible infestaci√≥n por gusano. | Inspeccionar manualmente y aplicar insecticida. | alta      |
| 2                | 2             | Riesgo de chinche en fase de floraci√≥n.   | Revisar plantas al amanecer.                    | media     |
| 3                | 3             | Pulg√≥n en niveles bajos.                  | No aplicar qu√≠micos a√∫n. Solo vigilar.          | baja      |

---

### üü© Tabla: `usuarios`

| id_usuario | nombre        | correo                                                          | rol                 | zona_asignada       | ultimo_acceso       |
| ---------- | ------------- | --------------------------------------------------------------- | ------------------- | ------------------- | ------------------- |
| 1          | Juan P√©rez    | [juanp@agrocorreo.com](mailto:juanp@agrocorreo.com)             | agricultor          | Vereda El Camp√≠n    | 2025-10-20 08:30:00 |
| 2          | Marta S√°nchez | [msanchez@agropredictive.cl](mailto:msanchez@agropredictive.cl) | cient√≠fico de datos | Sede Central        | 2025-10-19 17:00:00 |
| 3          | Luis Romero   | [lromero@campo.net](mailto:lromero@campo.net)                   | agricultor          | Zona Norte - Lote A | 2025-10-18 09:15:00 |

---

### üü© Tabla: `validaciones_modelo`

| id_validacion | fecha      | precision | recall | f1_score | version_modelo | comentarios                           |
| ------------- | ---------- | --------- | ------ | -------- | -------------- | ------------------------------------- |
| 1             | 2025-09-15 | 87.5      | 85.0   | 86.2     | v1.0           | Buen rendimiento con arroz y ma√≠z     |
| 2             | 2025-10-01 | 89.2      | 88.5   | 88.8     | v1.1           | Mejora tras ajuste en hiperpar√°metros |
| 3             | 2025-10-18 | 90.0      | 91.0   | 90.5     | v1.2           | Incluye nuevos datos de sensores      |

---

Si quieres, puedo generar todos estos datos **en un archivo Excel real (.xlsx)** y pas√°rtelo para que no tengas que copiar y pegar manualmente. ¬øTe gustar√≠a que lo haga?



Perfecto, muy buena decisi√≥n. Crear las tablas manualmente desde una GUI como pgAdmin puede ser lento, as√≠ que te muestro c√≥mo hacerlo **r√°pidamente** usando SQL en PostgreSQL, lo cual es la forma m√°s eficiente para proyectos como este.

---

## ‚úÖ **Opci√≥n r√°pida: Crear las tablas usando SQL DDL**

Puedes ejecutar un **script SQL** que defina todas las tablas con sus columnas, tipos de datos y relaciones. Esto lo haces desde:

* **pgAdmin** (Men√∫: Query Tool / Herramienta de consulta)
* **psql** (l√≠nea de comandos)
* **DBeaver, DataGrip u otra GUI**

---

## üì¶ PASO A PASO

### 1. Abre tu herramienta (ej: pgAdmin).

### 2. Abre una nueva consulta.

### 3. Copia y pega el siguiente script SQL completo.

### 4. Ejecuta (F5 o bot√≥n ‚ñ∂Ô∏è).

---

## üõ†Ô∏è SCRIPT SQL PARA CREAR TODAS LAS TABLAS

```sql
-- Tabla: cultivos
CREATE TABLE cultivos (
    id_cultivo SERIAL PRIMARY KEY,
    tipo_cultivo VARCHAR(50),
    ubicacion TEXT,
    tama√±o_ha NUMERIC(6,2),
    fecha_siembra DATE,
    estado_actual VARCHAR(50)
);

-- Tabla: plagas
CREATE TABLE plagas (
    id_plaga SERIAL PRIMARY KEY,
    nombre_comun VARCHAR(100),
    nombre_cientifico VARCHAR(150),
    cultivos_afectados TEXT,
    epoca_aparicion VARCHAR(100),
    niveles_criticidad VARCHAR(50)
);

-- Tabla: datos_historicos
CREATE TABLE datos_historicos (
    id_registro SERIAL PRIMARY KEY,
    id_cultivo INTEGER REFERENCES cultivos(id_cultivo),
    fecha DATE,
    temperatura NUMERIC(5,2),
    humedad NUMERIC(5,2),
    precipitaciones NUMERIC(5,2),
    viento NUMERIC(5,2),
    presencia_plaga BOOLEAN,
    id_plaga INTEGER REFERENCES plagas(id_plaga),
    nivel_afectacion INTEGER
);

-- Tabla: sensores
CREATE TABLE sensores (
    id_sensor SERIAL PRIMARY KEY,
    id_cultivo INTEGER REFERENCES cultivos(id_cultivo),
    tipo_sensor VARCHAR(50)
);

-- Tabla: lecturas_sensores
CREATE TABLE lecturas_sensores (
    id_lectura SERIAL PRIMARY KEY,
    id_sensor INTEGER REFERENCES sensores(id_sensor),
    timestamp TIMESTAMP,
    valor NUMERIC(8,2)
);

-- Tabla: predicciones
CREATE TABLE predicciones (
    id_prediccion SERIAL PRIMARY KEY,
    id_cultivo INTEGER REFERENCES cultivos(id_cultivo),
    fecha_prediccion DATE,
    id_plaga_predicha INTEGER REFERENCES plagas(id_plaga),
    probabilidad_plaga NUMERIC(5,2),
    nivel_confianza NUMERIC(5,2),
    recomendacion TEXT
);

-- Tabla: alertas
CREATE TABLE alertas (
    id_alerta SERIAL PRIMARY KEY,
    id_cultivo INTEGER REFERENCES cultivos(id_cultivo),
    fecha_alerta DATE,
    id_plaga INTEGER REFERENCES plagas(id_plaga),
    nivel_riesgo VARCHAR(20),
    mensaje_alerta TEXT,
    estado VARCHAR(20)
);

-- Tabla: recomendaciones
CREATE TABLE recomendaciones (
    id_recomendacion SERIAL PRIMARY KEY,
    id_prediccion INTEGER REFERENCES predicciones(id_prediccion),
    mensaje TEXT,
    acciones_sugeridas TEXT,
    prioridad VARCHAR(20)
);

-- Tabla: usuarios
CREATE TABLE usuarios (
    id_usuario SERIAL PRIMARY KEY,
    nombre VARCHAR(100),
    correo VARCHAR(150),
    rol VARCHAR(50),
    zona_asignada VARCHAR(100),
    ultimo_acceso TIMESTAMP
);

-- Tabla: validaciones_modelo
CREATE TABLE validaciones_modelo (
    id_validacion SERIAL PRIMARY KEY,
    fecha DATE,
    precision NUMERIC(5,2),
    recall NUMERIC(5,2),
    f1_score NUMERIC(5,2),
    version_modelo VARCHAR(20),
    comentarios TEXT
);
```

---

## ‚è±Ô∏è ¬øQu√© ganas con esto?

* Puedes crear todas las tablas **en segundos**.
* Ya est√°n todas las **relaciones** (foreign keys).
* Puedes extender o modificar f√°cilmente desde el mismo script.

---

## üß† Consejos adicionales

1. **Guardar el script en un archivo `.sql`**: as√≠ puedes replicarlo en otros entornos.
2. **Versionar el script con Git** si est√°s trabajando en equipo.
3. Agrega √≠ndices si vas a hacer muchas consultas por `id_cultivo`, `id_plaga`, etc.
4. Usa `NOT NULL` en campos que deben ser obligatorios.

---

¬øQuieres que te prepare tambi√©n un script para insertar los **registros de ejemplo** que ya vimos?

Excelente pregunta. Para alimentar tu sistema de predicci√≥n de plagas con datos reales y √∫tiles (hist√≥ricos, meteorol√≥gicos, de plagas, etc.), necesitar√°s recolectar datos de distintas fuentes confiables. A continuaci√≥n te doy una gu√≠a completa con **los tipos de datos necesarios**, **d√≥nde puedes obtenerlos**, y **c√≥mo hacerlo** de manera pr√°ctica:

---

## üß© 1. **Datos Meteorol√≥gicos (Temperatura, Humedad, Lluvia, etc.)**

### üîç ¬øQu√© necesitas?

* Datos hist√≥ricos y en tiempo real de clima por regi√≥n: temperatura, humedad, precipitaciones, velocidad del viento.

### üåê Fuentes:

| Fuente                                        | Tipo                     | C√≥mo acceder                                       |
| --------------------------------------------- | ------------------------ | -------------------------------------------------- |
| [OpenWeatherMap](https://openweathermap.org/) | Hist√≥ricos + tiempo real | API (gratis con l√≠mites)                           |
| [Meteostat](https://meteostat.net)            | Hist√≥ricos               | API gratuita, CSV descargables                     |
| [NOAA](https://www.ncei.noaa.gov/)            | Hist√≥ricos globales      | CSV / FTP / API                                    |
| Servicios meteorol√≥gicos nacionales           | Hist√≥ricos               | Ej. IDEAM (Colombia), AEMET (Espa√±a), SMN (M√©xico) |

### üí° Tip:

* Usa coordenadas GPS del cultivo para pedir datos por ubicaci√≥n.
* Puedes automatizar la descarga diaria con scripts en Python usando APIs.

---

## üß© 2. **Datos Hist√≥ricos de Plagas**

### üîç ¬øQu√© necesitas?

* Qu√© plagas afectan qu√© cultivos, cu√°ndo aparecen, en qu√© zonas, niveles de da√±o, etc.

### üåê Fuentes:

| Fuente                                                       | Tipo de info                  | Acceso                                             |
| ------------------------------------------------------------ | ----------------------------- | -------------------------------------------------- |
| [FAO Pest Forecasting](https://www.fao.org/pest-forecasting) | Distribuci√≥n global de plagas | Informes y mapas                                   |
| [CABI Crop Protection Compendium](https://www.cabi.org/cpc)  | Fichas t√©cnicas, distribuci√≥n | Requiere suscripci√≥n (algunos datos son gratuitos) |
| Organismos agr√≠colas locales (ej. ICA, SENASA, SAGARPA)      | Reportes por pa√≠s/regi√≥n      | Portales o PDFs                                    |
| Tesis y art√≠culos acad√©micos                                 | Estudios de casos por plaga   | Google Scholar, ResearchGate                       |
| INTA, EMBRAPA, CIAT, CIP                                     | Datos regionales              | Sitios oficiales, informes                         |

### üí° Tip:

* Puedes crear una base de datos inicial con Excel recolectando los nombres de plagas, √©pocas y cultivos afectados.

---

## üß© 3. **Datos del Cultivo (internos del cliente)**

### üîç ¬øQu√© necesitas?

* Fechas de siembra, tipos de cultivo, ubicaci√≥n exacta, pr√°cticas agron√≥micas, registros de plagas anteriores.

### üõ†Ô∏è ¬øD√≥nde obtenerlos?

* Directamente del cliente: AgroPredictive Ltda.
* Archivos Excel o bases de datos que tengan ellos.
* Formularios de captura digital (si no lo tienen).

---

## üß© 4. **Lecturas de Sensores (Tiempo real)**

### üîç ¬øQu√© necesitas?

* Datos en vivo de sensores de temperatura, humedad del suelo, luminosidad, etc.

### üõ†Ô∏è ¬øC√≥mo obtenerlos?

* A trav√©s de estaciones meteorol√≥gicas instaladas en el campo.
* Sistemas IoT (como sensores de **Davis Instruments**, **Bosch**, **Libelium**, etc.).
* APIs si ya tienen sensores conectados a la nube.
* CSV o feeds exportados desde sus sistemas.

### üí° Tip:

* Usa plataformas como **ThingSpeak**, **Blynk** o **Node-RED** para conectar y visualizar sensores f√°cilmente.

---

## üß© 5. **Alertas Fitosanitarias y Boletines Regionales**

### üåê Fuentes:

| Fuente                                        | Qu√© ofrece                             |
| --------------------------------------------- | -------------------------------------- |
| Boletines regionales (ICA, SAG, SENASA, etc.) | Alertas actuales de brotes             |
| FAO Locust Watch                              | Informaci√≥n espec√≠fica sobre langostas |
| Redes de vigilancia fitosanitaria             | Casos detectados en tiempo real        |
| Grupos de WhatsApp/Telegram de productores    | Alertas comunitarias informales        |

---

## üß© 6. **Recomendaciones Agron√≥micas**

### üîç ¬øQu√© necesitas?

* Acciones sugeridas por plaga, tipo de control (qu√≠mico, biol√≥gico), umbrales de da√±o.

### üåê Fuentes:

| Fuente                                       | Acceso                |
| -------------------------------------------- | --------------------- |
| Manuales t√©cnicos (FAO, CABI, universidades) | PDF/online            |
| Agr√≥nomos y expertos                         | Entrevistas, talleres |
| Proveedores de agroinsumos                   | Fichas t√©cnicas       |

---

## üß† ¬øC√≥mo automatizar o facilitar esto?

### üõ† Herramientas √∫tiles:

* **Python**: para consumir APIs (clima, sensores), transformar datos.
* **ETL Tools**: como Airbyte, Apache NiFi o scripts caseros para integraci√≥n de datos.
* **Power Automate / Zapier**: para mover archivos autom√°ticamente.
* **Scraping** (con precauci√≥n legal): para recolectar datos de sitios sin API.

---

## üß∞ ¬øQu√© debes tener en cuenta legalmente?

* Revisa licencias de uso de datos.
* Pide permisos al cliente si vas a usar sus datos en modelos externos.
* Cita fuentes si usas datos acad√©micos o p√∫blicos.

---

¬øQuieres que te prepare un ejemplo de script en Python para descargar datos de clima o una plantilla de Excel para recolectar datos de plagas?


¬°Perfecto! A continuaci√≥n te dejo **dos recursos pr√°cticos** como pediste:

---

## ‚úÖ 1. **Script en Python para obtener datos clim√°ticos hist√≥ricos (y actuales) desde OpenWeatherMap**

### üßæ ¬øQu√© hace este script?

* Obtiene clima **actual** o **hist√≥rico** por **coordenadas GPS**.
* Guarda los resultados como **CSV** para alimentar tu base de datos.

---

### üîß Requisitos previos:

1. Crea una cuenta gratuita en [https://openweathermap.org/api](https://openweathermap.org/api).
2. Obt√©n tu **API Key** (necesaria para acceder a los datos).
3. Instala la biblioteca `requests` (si no la tienes):

```bash
pip install requests
```

---

### üêç **Script en Python: `get_weather_data.py`**

```python
import requests
import csv
from datetime import datetime

# ==== CONFIGURA TU API KEY Y COORDENADAS ====
API_KEY = 'TU_API_KEY_AQUI'
LAT = 4.7110     # Ejemplo: Bogot√°, Colombia
LON = -74.0721

# ==== URL para clima actual ====
url = f'https://api.openweathermap.org/data/2.5/weather?lat={LAT}&lon={LON}&appid={API_KEY}&units=metric'

response = requests.get(url)
data = response.json()

# ==== EXTRAER DATOS CLAVE ====
fecha = datetime.utcfromtimestamp(data['dt']).strftime('%Y-%m-%d %H:%M:%S')
temperatura = data['main']['temp']
humedad = data['main']['humidity']
presion = data['main']['pressure']
viento = data['wind']['speed']
descripcion = data['weather'][0]['description']

# ==== GUARDAR EN CSV ====
with open('clima_actual.csv', mode='w', newline='') as archivo:
    writer = csv.writer(archivo)
    writer.writerow(['fecha', 'temperatura', 'humedad', 'presion', 'viento', 'descripcion'])
    writer.writerow([fecha, temperatura, humedad, presion, viento, descripcion])

print(f"‚úÖ Datos guardados correctamente en clima_actual.csv")
```

---

### üîç Resultado:

Te generar√° un archivo `clima_actual.csv` con una fila como esta:

```
fecha, temperatura, humedad, presion, viento, descripcion  
2025-10-21 13:45:00, 24.3, 78, 1012, 3.5, broken clouds
```

---

## ‚úÖ 2. **Plantilla de Excel para recolecci√≥n de datos de plagas**

### üßæ ¬øQu√© contiene esta plantilla?

Una hoja estructurada para recolectar datos como:

* Nombre de la plaga
* Cultivo afectado
* Fecha de aparici√≥n
* Regi√≥n
* Nivel de da√±o
* M√©todo de control sugerido
* Fuente del dato (ej. ICA, FAO, experiencia directa)

---

### üìÑ Estructura sugerida (puedes copiar esto en Excel):

| id_plaga | nombre_comun      | nombre_cientifico       | cultivo_afectado | regi√≥n       | fecha_aparicion | nivel_danio | control_sugerido            | fuente             |
| -------- | ----------------- | ----------------------- | ---------------- | ------------ | --------------- | ----------- | --------------------------- | ------------------ |
| 1        | Gusano cogollero  | *Spodoptera frugiperda* | ma√≠z             | Cundinamarca | 2025-08-15      | moderado    | Insecticida biol√≥gico       | ICA bolet√≠n 082    |
| 2        | Chinche del arroz | *Oebalus insularis*     | arroz            | Atl√°ntico    | 2025-09-01      | alto        | Control qu√≠mico selectivo   | FAO                |
| 3        | Pulg√≥n del ma√≠z   | *Rhopalosiphum maidis*  | ma√≠z             | Tolima       | 2025-07-10      | leve        | Monitoreo y control natural | Entrevista t√©cnica |

---

### üí° Puedes:

* Compartir esta plantilla con t√©cnicos/agricultores para que llenen informaci√≥n manual.
* Importarla f√°cilmente a PostgreSQL o convertirla en CSV para cargarla con Python o PgAdmin.

---

## üöÄ ¬øQu√© sigue?

¬øQuieres que preparete tambi√©n un script en Python para:

* Leer esta plantilla de Excel y cargarla a PostgreSQL?
* Obtener **clima hist√≥rico** para un rango de fechas?

Solo dime cu√°l y te lo armo.
